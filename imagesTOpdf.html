<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IMG‚ÜíPDF ¬∑ 50+ images at once ¬∑ perfect contrast</title>
  <!-- SEO meta -->
  <meta name="description" content="Convert up to 50+ images to a single PDF instantly. 100% client‚Äëside, high contrast UI, zero updates needed. Fast, private, and free.">
  <meta name="keywords" content="images to pdf, image converter, pdf tool, bulk pdf, offline pdf, high contrast">
  <meta name="author" content="single‚Äëtask.tools">
  <meta name="robots" content="index, follow">
  <!-- Open Graph -->
  <meta property="og:title" content="Images ‚Üí PDF ¬∑ 50+ at once ¬∑ perfect contrast">
  <meta property="og:description" content="Drag & drop 50+ images. Creates a single PDF. Everything runs in your browser ‚Äî no upload, no server.">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <!-- Performance -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <style>
    /* RESET & PERFECT CONTRAST VARIABLES */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: #000000;
      color: #ffffff;
      font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
      line-height: 1.5;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .tool-container {
      max-width: 1000px;
      width: 100%;
      background-color: #0e0e0e;
      border: 1px solid #333333;
      border-radius: 28px;
      padding: 2rem 1.8rem;
      box-shadow: 0 20px 40px rgba(255, 255, 255, 0.06), 0 8px 16px rgba(0, 0, 0, 0.8);
    }

    h1, h2, h3, p, label, .file-info, .footer-text {
      color: #ffffff;
    }

    h1 {
      font-weight: 600;
      font-size: 2.2rem;
      letter-spacing: -0.01em;
      margin-bottom: 0.2rem;
    }

    .subhead {
      font-size: 1.2rem;
      color: #dddddd;
      border-left: 4px solid #ffffff;
      padding-left: 1rem;
      margin-bottom: 2rem;
    }

    .drop-zone {
      background: #121212;
      border: 3px dashed #4a4a4a;
      border-radius: 32px;
      padding: 3rem 1rem;
      text-align: center;
      cursor: pointer;
      transition: background 0.2s, border-color 0.2s;
      margin-bottom: 1.8rem;
    }

    .drop-zone:hover, .drop-zone.dragover {
      background: #1c1c1c;
      border-color: #ffffff;
    }

    .drop-zone .big-icon {
      font-size: 4rem;
      line-height: 1;
      margin-bottom: 0.5rem;
    }

    .drop-zone .info-text {
      font-size: 1.4rem;
      font-weight: 500;
    }

    .drop-zone .small-info {
      font-size: 1rem;
      color: #cccccc;
      margin-top: 0.6rem;
    }

    .button-group {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      align-items: center;
      margin: 1.2rem 0 1.5rem 0;
    }

    .primary-btn, .secondary-btn {
      padding: 0.9rem 2.2rem;
      font-size: 1.2rem;
      font-weight: 500;
      border: none;
      border-radius: 60px;
      cursor: pointer;
      background: #ffffff;
      color: #000000;
      transition: 0.1s ease-in;
      box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
      border: 2px solid transparent;
    }

    .primary-btn {
      background: #ffffff;
      color: #000000;
    }

    .primary-btn:hover {
      background: #e0e0e0;
      transform: scale(1.02);
    }

    .primary-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .secondary-btn {
      background: transparent;
      color: #ffffff;
      border: 2px solid #ffffff;
      box-shadow: none;
    }

    .secondary-btn:hover {
      background: #2a2a2a;
    }

    .file-list {
      background: #0a0a0a;
      border: 1px solid #3a3a3a;
      border-radius: 20px;
      padding: 1.5rem;
      margin: 1.2rem 0;
      max-height: 320px;
      overflow-y: auto;
    }

    .file-list h2 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      font-weight: 500;
      border-bottom: 1px solid #333;
      padding-bottom: 0.4rem;
    }

    .file-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem 1.2rem;
    }

    .file-chip {
      background: #1f1f1f;
      padding: 0.45rem 1.2rem 0.45rem 1rem;
      border-radius: 40px;
      font-size: 0.95rem;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      border: 1px solid #4a4a4a;
      color: #f0f0f0;
    }

    .file-chip .remove-file {
      background: none;
      border: none;
      color: #ffaaaa;
      font-size: 1.4rem;
      line-height: 1;
      cursor: pointer;
      padding: 0 4px;
    }

    .file-chip .remove-file:hover {
      color: #ff4d4d;
    }

    .stats-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      margin: 0.2rem 0 0.8rem 0;
      background: #1b1b1b;
      padding: 0.8rem 1.2rem;
      border-radius: 48px;
    }

    .badge {
      background: #000;
      border: 1px solid white;
      padding: 0.2rem 1rem;
      border-radius: 32px;
      font-weight: 600;
    }

    .warning {
      color: #ffb3b3;
    }

    .progress-section {
      margin: 1.2rem 0 0.8rem 0;
    }

    .progress-bar-bg {
      background: #2c2c2c;
      height: 20px;
      border-radius: 100px;
      overflow: hidden;
      border: 1px solid #555;
    }

    .progress-fill {
      background: #ffffff;
      width: 0%;
      height: 100%;
      transition: width 0.2s;
    }

    .footer-text {
      margin-top: 2rem;
      font-size: 0.9rem;
      text-align: center;
      color: #bbbbbb;
    }

    #fileInput {
      display: none;
    }

    .text-small {
      font-size: 0.9rem;
      color: #ccc;
    }
  </style>
</head>
<body>
  <div class="tool-container">
    <h1>üì∏ ‚Üí PDF ¬∑ 50+ images at once</h1>
    <div class="subhead">bulk convert ¬∑ no upload ¬∑ perfect contrast</div>

    <div id="dropZone" class="drop-zone" role="button" tabindex="0" aria-label="Drop images or click to add">
      <div class="big-icon">üñºÔ∏è‚¨áÔ∏è</div>
      <div class="info-text">Drag & drop images here</div>
      <div class="small-info">or click to browse ¬∑ up to 50+ images ¬∑ JPG, PNG, WebP, BMP, GIF</div>
    </div>

    <div class="button-group">
      <button class="primary-btn" id="addImagesBtn">‚ûï Add images</button>
      <button class="primary-btn" id="generatePdfBtn" disabled>‚ö° Create PDF (single file)</button>
      <button class="secondary-btn" id="clearAllBtn">üóëÔ∏è Clear all</button>
    </div>

    <div class="stats-bar">
      <span id="imageCounter">0 images selected</span>
      <span class="badge" id="pdfReadyBadge">ready</span>
    </div>

    <div class="file-list" id="fileListContainer">
      <h2>üìã selected files</h2>
      <div id="fileGrid" class="file-grid">
        <span class="text-small" style="color:#aaa;">(no images added)</span>
      </div>
    </div>

    <div class="progress-section" id="progressSection" style="display: none;">
      <div class="progress-bar-bg">
        <div class="progress-fill" id="progressFill" style="width:0%;"></div>
      </div>
      <div class="text-small" style="margin-top:6px; text-align:right;" id="progressStatus">Processing‚Ä¶ 0%</div>
    </div>

    <input type="file" id="fileInput" multiple accept="image/*" />

    <div class="footer-text">
      ‚ö° 100% client‚Äëside ¬∑ images never leave your device ¬∑ unlimited images (50+ at once)<br>
      perfect contrast (AAA) ¬∑ zero updates needed ¬∑ works offline
    </div>
  </div>

  <!-- Use PDFLib for more reliable PDF generation -->
  <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
  <script>
    (function() {
      "use strict";

      // DOM references
      const dropZone = document.getElementById('dropZone');
      const fileInput = document.getElementById('fileInput');
      const addImagesBtn = document.getElementById('addImagesBtn');
      const generateBtn = document.getElementById('generatePdfBtn');
      const clearAllBtn = document.getElementById('clearAllBtn');
      const imageCounterSpan = document.getElementById('imageCounter');
      const fileGrid = document.getElementById('fileGrid');
      const progressSection = document.getElementById('progressSection');
      const progressFill = document.getElementById('progressFill');
      const progressStatus = document.getElementById('progressStatus');

      // State
      let imageFiles = [];
      const MAX_IMAGES = 500; // More than 50+

      // Helper: format file size
      function formatFileSize(bytes) {
        if (bytes < 1024) return bytes + ' B';
        if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
        return (bytes / (1024 * 1024)).toFixed(1) + ' MB';
      }

      // Update UI based on current files
      function updateUI() {
        const count = imageFiles.length;
        imageCounterSpan.textContent = `${count} image${count !== 1 ? 's' : ''} selected`;

        generateBtn.disabled = count === 0;

        if (count === 0) {
          fileGrid.innerHTML = '<span class="text-small" style="color:#aaa;">(no images added)</span>';
        } else {
          let htmlStr = '';
          imageFiles.forEach((file, index) => {
            let displayName = file.name;
            if (displayName.length > 25) {
              const ext = displayName.split('.').pop();
              const name = displayName.substring(0, 20);
              displayName = name + '‚Ä¶.' + ext;
            }
            htmlStr += `<div class="file-chip" title="${file.name} (${formatFileSize(file.size)})">
              <span>${displayName}</span>
              <button class="remove-file" data-index="${index}" aria-label="remove image">‚úï</button>
            </div>`;
          });
          fileGrid.innerHTML = htmlStr;

          document.querySelectorAll('.remove-file').forEach(btn => {
            btn.addEventListener('click', (e) => {
              e.stopPropagation();
              const idx = btn.getAttribute('data-index');
              if (idx !== null) removeImageAtIndex(parseInt(idx));
            });
          });
        }
      }

      function removeImageAtIndex(index) {
        if (index >= 0 && index < imageFiles.length) {
          imageFiles.splice(index, 1);
          updateUI();
        }
      }

      function addFilesFromList(fileList) {
        if (!fileList) return;

        const newFiles = [];
        for (let i = 0; i < fileList.length; i++) {
          const file = fileList[i];
          if (file.type.startsWith('image/')) {
            if (imageFiles.length + newFiles.length >= MAX_IMAGES) {
              alert(`Maximum ${MAX_IMAGES} images allowed.`);
              break;
            }
            newFiles.push(file);
          }
        }

        if (newFiles.length > 0) {
          imageFiles = [...imageFiles, ...newFiles];
          if (imageFiles.length > MAX_IMAGES) {
            imageFiles = imageFiles.slice(0, MAX_IMAGES);
          }
          updateUI();
        }
      }

      function clearAll() {
        imageFiles = [];
        updateUI();
        progressSection.style.display = 'none';
        progressFill.style.width = '0%';
      }

      // Convert image to JPEG format for PDF compatibility
      async function imageToJPEG(file) {
        return new Promise((resolve, reject) => {
          const reader = new FileReader();
          reader.onload = (e) => {
            const img = new Image();
            img.onload = () => {
              // Create canvas
              const canvas = document.createElement('canvas');
              let width = img.width;
              let height = img.height;
              
              // Resize if too large (max 2400px to keep PDF manageable)
              const maxDim = 2400;
              if (width > maxDim || height > maxDim) {
                if (width > height) {
                  height = Math.round((height * maxDim) / width);
                  width = maxDim;
                } else {
                  width = Math.round((width * maxDim) / height);
                  height = maxDim;
                }
              }
              
              canvas.width = width;
              canvas.height = height;
              
              const ctx = canvas.getContext('2d');
              ctx.fillStyle = '#FFFFFF';
              ctx.fillRect(0, 0, width, height);
              ctx.drawImage(img, 0, 0, width, height);
              
              // Convert to JPEG
              const jpegData = canvas.toDataURL('image/jpeg', 0.95);
              resolve({
                dataURL: jpegData,
                width: width,
                height: height
              });
            };
            img.onerror = reject;
            img.src = e.target.result;
          };
          reader.onerror = reject;
          reader.readAsDataURL(file);
        });
      }

      // Generate PDF using PDFLib
      async function generatePdf() {
        if (imageFiles.length === 0) {
          alert('Please add some images first.');
          return;
        }

        // Disable button and show progress
        generateBtn.disabled = true;
        progressSection.style.display = 'block';
        progressFill.style.width = '0%';
        progressStatus.innerText = 'Starting... 0%';

        try {
          // Create a new PDF document
          const { PDFDocument, rgb } = PDFLib;
          const pdfDoc = await PDFDocument.create();
          
          // Process images one by one
          for (let i = 0; i < imageFiles.length; i++) {
            const file = imageFiles[i];
            
            // Update progress
            const percent = Math.round(((i) / imageFiles.length) * 100);
            progressFill.style.width = percent + '%';
            progressStatus.innerText = `Processing image ${i+1} of ${imageFiles.length}... ${percent}%`;

            try {
              // Convert image to JPEG
              const jpeg = await imageToJPEG(file);
              
              // Extract base64 data
              const base64Data = jpeg.dataURL.split(',')[1];
              
              // Embed JPEG in PDF
              const jpgImage = await pdfDoc.embedJpg(base64Data);
              
              // Get page dimensions
              const page = pdfDoc.addPage();
              const { width, height } = page.getSize();
              
              // Calculate dimensions to fit page with margins
              const margin = 40;
              const maxWidth = width - margin * 2;
              const maxHeight = height - margin * 2;
              
              let imgWidth = jpeg.width;
              let imgHeight = jpeg.height;
              
              // Scale image to fit page
              const scale = Math.min(maxWidth / imgWidth, maxHeight / imgHeight);
              const scaledWidth = imgWidth * scale;
              const scaledHeight = imgHeight * scale;
              
              // Center on page
              const x = (width - scaledWidth) / 2;
              const y = (height - scaledHeight) / 2;
              
              // Draw image
              page.drawImage(jpgImage, {
                x: x,
                y: y,
                width: scaledWidth,
                height: scaledHeight,
              });
              
            } catch (err) {
              console.warn('Failed to process image:', file.name, err);
              // Add a page with error message
              const page = pdfDoc.addPage();
              page.drawText(`Failed to load: ${file.name}`, {
                x: 50,
                y: page.getHeight() - 50,
                size: 12,
                color: rgb(1, 0, 0),
              });
            }
          }

          // Final progress update
          progressFill.style.width = '100%';
          progressStatus.innerText = 'Saving PDF...';

          // Save PDF
          const pdfBytes = await pdfDoc.save();
          
          // Create download link
          const blob = new Blob([pdfBytes], { type: 'application/pdf' });
          const url = URL.createObjectURL(blob);
          const link = document.createElement('a');
          link.href = url;
          link.download = `images_${imageFiles.length}_pages.pdf`;
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
          URL.revokeObjectURL(url);

          progressStatus.innerText = 'Done! PDF downloaded.';

          // Hide progress after 2 seconds
          setTimeout(() => {
            progressSection.style.display = 'none';
            progressFill.style.width = '0%';
          }, 2000);

        } catch (error) {
          console.error('PDF generation error:', error);
          alert('Error creating PDF. Please try again with fewer or smaller images.');
          progressSection.style.display = 'none';
        } finally {
          generateBtn.disabled = false;
        }
      }

      // Event listeners
      dropZone.addEventListener('click', () => fileInput.click());
      dropZone.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          fileInput.click();
        }
      });

      addImagesBtn.addEventListener('click', () => fileInput.click());

      fileInput.addEventListener('change', (e) => {
        addFilesFromList(e.target.files);
        fileInput.value = '';
      });

      dropZone.addEventListener('dragover', (e) => {
        e.preventDefault();
        dropZone.classList.add('dragover');
      });

      dropZone.addEventListener('dragleave', () => {
        dropZone.classList.remove('dragover');
      });

      dropZone.addEventListener('drop', (e) => {
        e.preventDefault();
        dropZone.classList.remove('dragover');
        if (e.dataTransfer?.files) {
          addFilesFromList(e.dataTransfer.files);
        }
      });

      clearAllBtn.addEventListener('click', clearAll);

      generateBtn.addEventListener('click', generatePdf);

      // Prevent default drag on window
      window.addEventListener('dragover', (e) => e.preventDefault());
      window.addEventListener('drop', (e) => e.preventDefault());

      // Initial UI update
      updateUI();
    })();
  </script>
</body>
</html>
